<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- <script src="https://code.jquery.com/jquery-1.12.4.js"></script> -->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script> -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.3/css/selectize.min.css" integrity="sha512-bkB9w//jjNUnYbUpATZQCJu2khobZXvLP5GZ8jhltg7P/dghIrTaSJ7B/zdlBUT0W/LXGZ7FfCIqNvXjWKqCYA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.13.3/js/standalone/selectize.min.js" integrity="sha512-pF+DNRwavWMukUv/LyzDyDMn8U2uvqYQdJN0Zvilr6DDo/56xPDZdDoyPDYZRSL4aOKO/FGKXTpzDyQJ8je8Qw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/voca/1.4.0/voca.min.js" integrity="sha512-yrLbujQF3UPLrlaavtewYmv7OFD8AGO5PS8jg0VKlXP8kW9POHaG/bbpwSbpkqe4SCXVwTtYAMsKdOukT11bxQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/string-format/0.5.0/string-format.min.js" integrity="sha512-umUQjNj1rAebq5zbgyU2sFNEREC48ohuUAdAwTa1qbEibzzbTnJLhj8ASNNsoKkWQ3ef+QjtZvGgVWJulLetxQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <link href="https://cdnjs.cloudflare.com/ajax/libs/vex-js/4.1.0/css/vex.min.css" rel="stylesheet" type="text/css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vex-js/4.1.0/css/vex-theme-default.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vex-js/4.1.0/js/vex.combined.min.js"></script>
    <script>vex.defaultOptions.className = 'vex-theme-default'</script>

    <!-- context menus -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.2/jquery.contextMenu.min.js" integrity="sha512-kvg/Lknti7OoAw0GqMBP8B+7cGHvp4M9O9V6nAYG91FZVDMW3Xkkq5qrdMhrXiawahqU7IZ5CNsY/wWy1PpGTQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-contextmenu/2.9.2/jquery.contextMenu.css" integrity="sha512-EF5k2tHv4ShZB7zESroCVlbLaZq2n8t1i8mr32tgX0cyoHc3GfxuP7IoT8w/pD+vyoq7ye//qkFEqQao7Ofrag==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/verge@1.10.2/verge.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.4/dist/FileSaver.min.js"></script>

    <script src="{{ url_for('bp.static', filename='vis-network.min.js') }}"></script>
    <link rel="shortcut icon" href="{{ url_for('bp.static', filename='favicon.ico') }}">
    <link href="{{ url_for('bp.static', filename='main.css') }}" rel="stylesheet" />


    <script src="{{ url_for('bp.static', filename='main.js') }}"></script>
    {% block head %}{% endblock %}

    <title>SKM -
      {% block title %}{% endblock %}
    </title>
  </head>

  <body>

    <nav class="navbar navbar-default navbar-expand sticky-top">
      <div class="container-fluid" >
        <ul class="nav navbar-nav">
          <li>
            <li> <a class="nav-link" href="/" style="margin-left: 10px;"> &larr; SKM Home</a></li>
          </li>
        </ul>
      </div>
    </nav> <!-- close nav bar -->


    <div class="container-fluid h-100">

        <div class="row" style="height:calc(100vh - 60px);"> <!-- h-100"> -->
          <div class="col-xs-6 col-sm-5 col-md-5 col-lg-4 col-xl-3 col-xxl-3 border-end border-light border-2 p-3" id="configColumn">
            <div>
                <h1 class="card-title"> {% block page_title %}{% endblock %} </h1>
                <div  class="card-text"> {% block description %}{% endblock %} </div>
            </div>
            <form id="searchform" class="h-100">
              {% block search_interface %}{% endblock %}
            </form>
          </div>

            <div class="col-xs-6 col-sm-7 col-md-7 col-lg-8 col-xl-9 col-xxl-9 h-100" id="networkViewContainer">
              <div id="networkView"></div>
          </div>
        </div>
      <div id="footer" class=""></div>
    </div>

  </body>


<!-- https://getbootstrap.com/docs/4.0/components/popovers/#dismiss-on-next-click -->

<div class="container">
  <div class="row justify-content-md-center align-items-center" style="top:5px; right:15px; position: absolute; z-index: 99;">

    <div class="col-auto py-0 mx-3 btn bg-white btn-outline">
      <input class="form-check-input" type="checkbox" id="showTooltipsCbox" value="" aria-label="...">
      <label class="ms-0" for="form-check-input">Tooltips</label>
    </div>

    <div class="col dropdown">
    <button class="py-0 btn dropdown-toggle bg-white" type="button" id="saveAsButton" data-bs-toggle="dropdown" aria-expanded="false">Export network</button>
    <ul class="dropdown-menu" id="saveAsDropdown" aria-labelledby="saveAsButton">
       <a class="dropdown-item" href="#nodes">nodes (.csv format)</a>
       <a class="dropdown-item" href="#edges">edges (.csv format)</a>
       <a class="dropdown-item" href="#png">image (.png format)</a>
    </ul>
  </div>

    <div class="col">
    <a id="tip_popover"
       class="py-0  btn btn-outline-info btn-xs inline  bg-white"
       tabindex="0"
       role="button"
       data-trigger="focus"
       data-toggle="popover"
       data-bs-content='
   <div style="width:100%;">
            <p>Right click on an edge or node to access its context menu.</p>
            <p>Double click on a node to expand its neighbours. </p>
            <p>Tick "Tooltips" to enable node and edge info boxes on hover.  </p>
            <p>Use the "Filters" (bottom left) to limit  the search to nodes in tissues (by Plant Ontology terms)
              and ranks by reliability. </p>
            <p>See see <a href="https://skm.nib.si/documentation/ckn-explore" target="_blank">SKM Documentation &#167; CKN</a> for details. </p>

  </div>' data-bs-html="true" title="Network tips">
      Tips!
    </a>
  </div>

  </div>
</div>


<div id="spinner" class="text-center">
  <span class="spinner-border  spinner-border-sm" role="status" aria-hidden="true"></span>
  Searching...
</div>


  <script type="text/javascript">
    // enable all popover in the document:
    $(document).ready(function () {
        $('[data-toggle="popover"]').popover({
          container: 'body',
          trigger: 'focus',
          delay: 200,
        });
    });


  </script>
</html>
